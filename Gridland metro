#include <bits/stdc++.h>
using namespace std;

int main() {
    ios::sync_with_stdio(false);
    cin.tie(nullptr);

    long long R, C, K;
    if (!(cin >> R >> C >> K)) return 0;

    unordered_map<long long, vector<pair<long long,long long>>> rows;
    rows.reserve(min(K, 100000LL));

    for (long long i = 0; i < K; ++i) {
        long long r, c1, c2;
        cin >> r >> c1 >> c2;
        if (c1 > c2) swap(c1, c2);
        rows[r].emplace_back(c1, c2);
    }

    long long covered = 0;

    for (auto &entry : rows) {
        auto &intervals = entry.second;
        if (intervals.empty()) continue;

        sort(intervals.begin(), intervals.end(),
             [](const pair<long long,long long> &a, const pair<long long,long long> &b){
                 if (a.first != b.first) return a.first < b.first;
                 return a.second < b.second;
             });

        long long curL = intervals[0].first;
        long long curR = intervals[0].second;

        for (size_t i = 1; i < intervals.size(); ++i) {
            long long L = intervals[i].first;
            long long Rr = intervals[i].second;
            if (L > curR + 1) {
                // disjoint interval
                covered += (curR - curL + 1);
                curL = L;
                curR = Rr;
            } else {
                // overlapping or adjacent
                if (Rr > curR) curR = Rr;
            }
        }
        
        covered += (curR - curL + 1);
    }

    long long total = R * C;
    long long result = total - covered;
    cout << result << '\n';
    return 0;
}
